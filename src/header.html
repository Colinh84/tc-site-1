<!DOCTYPE html>
  @@head

  <meta charset="utf-8">
  <meta name="fragment" content="!">
  <meta name="author" content="@topcoder" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <!--[if lt IE 9]>
  <script src="/js/html5shiv.js" type="text/javascript"></script>
  <script src="/js/respond.min.js" type="text/javascript"></script>
  <script src="/js/modernizr.js" type="text/javascript"></script>
  <link rel = "stylesheet" href = "/css/ie.css ? v = 201407282" / >
  <![endif]-->
  <script type="text/javascript">
    // UNIVERSAL
    var tcconfig = @@tcconfig

    var wpUrl  = tcconfig.mainURL;

    var tcApiRUL = tcconfig.apiURL;
    var myFiltersURL = tcconfig.myFiltersURL;

    var siteURL = tcconfig.mainURL;
    var communityURL = tcconfig.communityURL;
    
    var base_url = tcconfig.mainURL + '/wp-content/themes/tcs-responsive'; // can use '' ?
    var stylesheet_dir = tcconfig.mainURL + '/wp-content/themes/tcs-responsive/css';
    var timezone_string = "America/New_York";
    var challengeType = 'develop';

    var cbApiURL = tcconfig.cbURL;

    window.prerenderReady = false;
    
    function getParameterByName(name, source) {
      name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
      var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
      results = regex.exec(source || location.search);
      return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    }
    function getHashParameterByName(name, source) {
      name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
      var regex = new RegExp("[\\#&]" + name + "=([^&#]*)"),
      results = regex.exec(source || location.hash);
      return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    }

    // CHALLENGE DETAILS
    var autoRegister = getParameterByName('autoRegister');
  </script>

  <!-- HARDCODED FOR NOW -->
  <link rel="shortcut icon" href="//www.topcoder.com/wp-content/themes/tcs-responsive/favicon.ico" />

  @@css

  <meta name="google-site-verification" content="13nbPcn6VRWD2zdq-CEG0LbT00aOwSyhofA3OAEmbEI" />
  <meta name="google-site-verification" content="p0OVxcrMQ2HYDsGgaRLRS9bsXuXmjKVcTGZnXNphIUI" />

  <style>
    .btn, a.btn, .blogCategoryMenu a, .searchBox input, .subscribeBox input {
      behavior: url("/wp-content/themes/tcs-responsive/css/PIE.htc");
    }
  </style>

  <style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
</head>

<body>


<div id="wrapper" class="tcssoUsingJS">

<!-- Header container -->
<div ng-class="{'autocomplete': main.searchTerm.length &gt; 0}" class="header-wrapper">
  <!-- Main header element -->
  <div ng-intro-options="vm.introOptions" ng-intro-method="launchIntro"></div>
  <header class="top-header"><a href="/" class="logo-link"></a>
    <!-- Header content visible on small screens -->
    <div class="show-small mobile-heading"><span ng-if="main.menuVisible" class="tc-text-logo">[ topcoder ]</span>
      <button type="button" ng-if="!main.menuVisible" ng-click="main.menuVisible = true" class="btn-open-menu">Menu</button>
      <button type="button" ng-if="main.menuVisible" ng-click="main.menuVisible = false" class="btn-close-menu"></button>
      <!-- User link (profile or join) --><a ui-sref="profile.about({userHandle: vm.userHandle})" ng-switch="vm.isAuth" data-ng-if="!main.menuVisible" class="user-link"><img ng-switch-when="true" ng-src="{{vm.profile.photoURL}}" class="user-avatar"/><span ng-switch-when="false" class="btn-link">JOIN</span></a>
    </div>
    <!-- main menu  -->
    <ul class="main-menu">
      <!-- search container -->
      <li class="menu-item search-wrapper">
        <div class="menu-item-header show-large">
          <button type="button" class="btn-expand-search search-icon"></button>
        </div>
        <div class="submenu">
          <input type="text" placeholder="find people" ng-model="vm.searchTerm" ng-keyup="vm.checkSubmit($event)"/>
        </div>
      </li>
      <!-- user menu -->
      <li ng-switch="vm.isAuth" ng-class="{'anonymous-menu': !vm.isAuth}" class="menu-item link-group user-menu">
        <div ng-switch-when="true">
          <div class="menu-item-header"><span ui-sref="profile.about({userHandle: vm.userHandle})"><img ng-src="{{vm.profile.photoURL}}" class="user-avatar"/><span class="username">{{vm.userHandle}}</span></span></div><a ui-sref="settings.profile" class="btn-link btn-edit-profile show-small">EDIT</a>
          <ul class="submenu">
            <header-menu-item ng-repeat="item in vm.userMenu" item="item"></header-menu-item>
            <li class="submenu-item"><a ng-click="vm.logout(); main.menuVisible = vm.isAuth = false" class="menu-link"><img ng-src="/images/nav/logout.svg" class="menu-icon"/>
                <div class="menu-text">LOG OUT</div></a></li>
          </ul>
        </div>
        <!-- links for anonymous user -->
        <div ng-switch-when="false" class="menu-item-header"><a ui-sref="register" class="btn-link">REGISTER</a><a ui-sref="login" class="btn-link secondary-link">LOGIN</a><a ng-click="launchIntro();" ng-show="!!vm.introOptions">Intro</a></div>
      </li>
      <li ng-repeat="(menu, items) in vm.menuLinks" class="menu-item link-group">
        <div class="menu-item-header">{{menu}}</div>
        <ul class="submenu">
          <header-menu-item ng-repeat="item in items" item="item"></header-menu-item>
        </ul>
      </li>
    </ul>
  </header>
</div>

<!-- Bugfix: I-108496 hidden element needed for non-firefox browsers to detect cache-persist status of page, used for above code to display member details -->
<input type='hidden' id='cache-persist'>
